<pre id="code">
#!/bin/bash
#
# Script: libSwitch
# Author: Stronz
# Date  : 
#
# Platform: Arch Linux
#
# Purpose: use another file to dictate a series of sed changes 
#	
################################################################################
#	NOTES
################################################################################
#   With great power, comes great responsibility.
#
################################################################################
#	FUNCTIONS HERE
################################################################################
function getDirectory() {
  read -p &quot;Enter a directory to recursively check (default is pwd): &quot; INDIRECTORY
  #Assign INDIRECTORY the present working directory (pwd) if &quot;&quot; assigned
  : ${INDIRECTORY:=`pwd`}
}

function getConverter() {
  #Prompt user for file containing replacements to be made
  read -p &quot;Enter the path to the conversion file: &quot; CONVERTER
  if [ ! -f $CONVERTER ];then
    echo &quot;$CONVERTER could not be found.&quot;
    getConverter
  fi
}

function getFiles(){
  #Prompt user for the header that must be contained within the file
  read -p &quot;Enter the string that must be in the file: &quot; WITHLINE
  grep --directories=recurse -slH &quot;$WITHLINE&quot; &quot;$INDIRECTORY&quot; &gt; &quot;$tmp&quot;
}

function runConversion(){
  while read lineTmp; do
    cp &quot;$lineTmp&quot; &quot;$lineTmp.bak&quot;
    while IFS='' read -r lineC; do
      A=${lineC%~*}
      B=${lineC#*~}
      echo &quot;\&quot;$A\&quot; is being replaced with \&quot;$B\&quot; in $lineTmp&quot;
      sed -i'' -e &quot;s/$A/$B/g&quot; &quot;$lineTmp&quot;
    done &lt; $CONVERTER
  done &lt; $tmp
}

################################################################################
#	BEGINNING OF MAIN
################################################################################
tmp=`mktemp /tmp/headercheck-XXXXXXXXXX`
getDirectory
getConverter
getFiles
runConversion
rm $tmp
</pre>